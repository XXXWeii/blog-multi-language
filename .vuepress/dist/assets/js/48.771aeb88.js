(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{463:function(e,s,t){e.exports=t.p+"assets/img/SPA.bb5b901f.png"},621:function(e,s,t){"use strict";t.r(s);var a=t(2),n=Object(a.a)({},(function(){var e=this,s=e._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h2",{attrs:{id:"_1-what-is-the-first-screen-loading"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-what-is-the-first-screen-loading"}},[e._v("#")]),e._v(" 1. What is the first screen loading")]),e._v(" "),s("hr"),e._v(" "),s("p",[e._v("First Contentful Paint (First Contentful Paint) refers to the time from when the browser responds to the URL address input by the user to when the content of the first screen is rendered. At this time, the entire webpage is not the same as it needs to be fully rendered, but it needs to display the content required by the current window.")]),e._v(" "),s("p",[e._v("The first screen loading can be said to be an important link in the user experience.")]),e._v(" "),s("h2",{attrs:{id:"_2-reasons-for-slow-loading"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-reasons-for-slow-loading"}},[e._v("#")]),e._v(" 2. Reasons for slow loading")]),e._v(" "),s("hr"),e._v(" "),s("p",[e._v("During the page rendering process, the factors that cause the slow loading speed may be as follows:")]),e._v(" "),s("ul",[s("li",[e._v("Network delay problem")]),e._v(" "),s("li",[e._v("Whether the resource file size is too large")]),e._v(" "),s("li",[e._v("Whether the resource resends the sending request to load")]),e._v(" "),s("li",[e._v("When loading scripts, the rendering content is blocked")])]),e._v(" "),s("h2",{attrs:{id:"_3-the-solution"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-the-solution"}},[e._v("#")]),e._v(" 3. the solution")]),e._v(" "),s("hr"),e._v(" "),s("p",[e._v("Several Common SPA First Screen Optimization Methods")]),e._v(" "),s("ul",[s("li",[e._v("Reduce the size of the entry file")]),e._v(" "),s("li",[e._v("Local caching of static resources")]),e._v(" "),s("li",[e._v("UI framework loaded on demand")]),e._v(" "),s("li",[e._v("Image resource compression")]),e._v(" "),s("li",[e._v("Enable Gzip compression")]),e._v(" "),s("li",[e._v("Using SSRs")])]),e._v(" "),s("h3",{attrs:{id:"reduce-the-size-of-the-entry-file"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reduce-the-size-of-the-entry-file"}},[e._v("#")]),e._v(" Reduce the size of the entry file")]),e._v(" "),s("ol",[s("li",[e._v("The common method is lazy loading of routes. The components corresponding to different routes are divided into different code blocks. When the route is requested, the route will be packaged separately, so that the entry file becomes smaller and the loading speed is greatly increased.")]),e._v(" "),s("li",[e._v("There is also the use of CDN to accelerate and reduce the file size, but if other peopleâ€™s CDN servers are unstable, you can also download the CDN and put them on your own server, but if your server does not have CDN distribution, the speed will be when downloading CDN files Affects loading speed.")])]),e._v(" "),s("h3",{attrs:{id:"static-resource-local-cache"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#static-resource-local-cache"}},[e._v("#")]),e._v(" Static resource local cache")]),e._v(" "),s("hr"),e._v(" "),s("p",[e._v("Resource issues returned by the backend:")]),e._v(" "),s("ul",[s("li",[e._v("Use "),s("code",[e._v("HTTP")]),e._v(" cache, set "),s("code",[e._v("Cache-Control")]),e._v(", "),s("code",[e._v("Last-Modified")]),e._v(", "),s("code",[e._v("Etag")]),e._v(" and other response headers")]),e._v(" "),s("li",[e._v("Use "),s("code",[e._v("Service Worker")]),e._v(" offline cache\nReasonable use of LocalStorage on the front end")])]),e._v(" "),s("h3",{attrs:{id:"ui-framework-loaded-on-demand"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ui-framework-loaded-on-demand"}},[e._v("#")]),e._v(" UI framework loaded on demand")]),e._v(" "),s("h3",{attrs:{id:"image-resource-compression"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#image-resource-compression"}},[e._v("#")]),e._v(" Image resource compression")]),e._v(" "),s("p",[e._v("Although the image resource is not in the encoding process, it is the factor that has the greatest impact on page performance\nFor all image resources, we can perform appropriate compression\nFor the icons used on the page, you can use online font icons or sprite images to combine many small icons into one image to reduce the number of "),s("code",[e._v("HTTP")]),e._v(" requests")]),e._v(" "),s("h3",{attrs:{id:"enable-gzip-compression"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#enable-gzip-compression"}},[e._v("#")]),e._v(" Enable Gzip compression")]),e._v(" "),s("p",[e._v("After unpacking, we are using "),s("code",[e._v("Gzip")]),e._v(" to do some compression and install "),s("code",[e._v("compression-webpack-plugin")])]),e._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" compression-webpack-plugin "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-D")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("Introduce and modify "),s("code",[e._v("webpack")]),e._v(" configuration in "),s("code",[e._v("vue.config.js")])]),e._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" CompressionWebpackPlugin "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"compression-webpack-plugin"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("exports"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n   "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//omitted")]),e._v("\n   "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("configureWebpack")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n     "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("plugins")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n       "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("CompressionWebpackPlugin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n         "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("test")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[e._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[e._v("\\.(js|css)$")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[e._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//Match file name")]),e._v("\n         "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("threshold")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("10240")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Compress data over 10k")]),e._v("\n         "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("minRatio")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0.8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// compression ratio")]),e._v("\n         "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("deleteOriginalAssets")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("false")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//Whether to delete the original file")]),e._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("exclude")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"/node_modules/"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n   "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("...")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br")])]),s("p",[e._v("We also need to do corresponding configuration on the server, such as "),s("code",[e._v("Nginx")])]),e._v(" "),s("div",{staticClass:"language-Nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("gzip")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("on")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("gzip_disable")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"msie6"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("gzip_vary")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("on")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("gzip_proxied")]),e._v(" any")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("gzip_comp_level")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("6")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("gzip_buffers")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("16")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("8k")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("gzip_http_version")]),e._v(" 1.1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("gzip_min_length")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("256")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("gzip_types")]),e._v(" application/atom+xml application/geo+json application/javascript application/x-javascript application/json application/ld+json application/manifest+json application/rdf+xml application/rss+xml application/xhtml+xml application/xml font/eot font/otf font/ttf image/svg+xml text/css text/javascript text/plain text/xml")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br")])]),s("h3",{attrs:{id:"using-ssr"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#using-ssr"}},[e._v("#")]),e._v(" Using SSR")]),e._v(" "),s("p",[e._v("SSR (Server side), that is, server rendering, components or pages generate html strings through the server, and then send them to the browser\nBuilding a server rendering from scratch is very complicated, "),s("code",[e._v("Vue")]),e._v(" applications recommend using "),s("code",[e._v("Nuxt.js")]),e._v(" for server rendering")]),e._v(" "),s("h3",{attrs:{id:"summary"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#summary"}},[e._v("#")]),e._v(" Summary")]),e._v(" "),s("p",[e._v("There are many ways to reduce the rendering time of the first screen. Generally speaking, it can be divided into two parts, resource loading optimization and page rendering optimization.")]),e._v(" "),s("p",[e._v("The figure below is a more comprehensive first-screen optimization solution")]),e._v(" "),s("p",[s("img",{attrs:{src:t(463),alt:"First Screen Optimization",title:"First Screen Optimization"}})]),e._v(" "),s("p",[e._v("You can choose various methods to optimize the first screen rendering according to your own project situation")])])}),[],!1,null,null,null);s.default=n.exports}}]);