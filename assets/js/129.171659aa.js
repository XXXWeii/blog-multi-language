(window.webpackJsonp=window.webpackJsonp||[]).push([[129],{697:function(s,t,a){"use strict";a.r(t);var e=a(2),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"ä»‹ç»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»‹ç»"}},[s._v("#")]),s._v(" ä»‹ç»")]),s._v(" "),t("hr"),s._v(" "),t("p",[s._v("è‡ªä»å¼•å…¥ç»„åˆå¼ API çš„æ¦‚å¿µä»¥æ¥ï¼Œä¸€ä¸ªä¸»è¦çš„æœªè§£å†³çš„é—®é¢˜å°±æ˜¯ "),t("code",[s._v("ref")]),s._v(" å’Œ "),t("code",[s._v("reactive")]),s._v(" åˆ°åº•ç”¨å“ªä¸ªã€‚"),t("code",[s._v("reactive")]),s._v(" å­˜åœ¨è§£æ„ä¸¢å¤±å“åº”æ€§çš„é—®é¢˜ï¼Œè€Œ "),t("code",[s._v("ref")]),s._v(" éœ€è¦åˆ°å¤„ä½¿ç”¨ "),t("code",[s._v(".value")]),s._v(" åˆ™æ„Ÿè§‰å¾ˆç¹çï¼Œå¹¶ä¸”åœ¨æ²¡æœ‰ç±»å‹ç³»ç»Ÿçš„å¸®åŠ©æ—¶å¾ˆå®¹æ˜“æ¼æ‰ "),t("code",[s._v(".value")]),s._v("ã€‚")]),s._v(" "),t("p",[s._v("ä¾‹å¦‚ï¼Œä¸‹é¢çš„è®¡æ•°å™¨ï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('<template>\n  <button @click="increment">{{ count }}</button>\n</template>\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("ä½¿ç”¨ "),t("code",[s._v("ref")]),s._v(" å®šä¹‰ "),t("code",[s._v("count")]),s._v(" å˜é‡å’Œ "),t("code",[s._v("increment")]),s._v(" æ–¹æ³•ï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("let count = ref(0)\n\nfunction increment() {\n  count.value++\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("è€Œä½¿ç”¨å“åº”æ€§è¯­æ³•ç³–ï¼Œæˆ‘ä»¬å¯ä»¥åƒè¿™æ ·ä¹¦å†™ä»£ç ï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("let count = $ref(0)\n\nfunction increment() {\n  count++\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("ol",[t("li",[s._v("Vue çš„å“åº”æ€§è¯­æ³•ç³–æ˜¯ä¸€ä¸ªç¼–è¯‘æ—¶çš„è½¬æ¢æ­¥éª¤ï¼Œ"),t("code",[s._v("$ref()")]),s._v(" æ–¹æ³•æ˜¯ä¸€ä¸ª"),t("strong",[s._v("ç¼–è¯‘æ—¶çš„å®å‘½ä»¤")]),s._v("ï¼Œå®ƒä¸æ˜¯ä¸€ä¸ªçœŸå®çš„ã€åœ¨è¿è¡Œæ—¶ä¼šè°ƒç”¨çš„æ–¹æ³•ï¼Œè€Œæ˜¯ç”¨ä½œ Vue ç¼–è¯‘å™¨çš„æ ‡è®°ï¼Œè¡¨æ˜æœ€ç»ˆçš„ "),t("code",[s._v("count")]),s._v(" å˜é‡éœ€è¦æ˜¯ä¸€ä¸ª"),t("strong",[s._v("å“åº”å¼å˜é‡")]),s._v("ã€‚")]),s._v(" "),t("li",[s._v("å“åº”å¼çš„å˜é‡å¯ä»¥åƒæ™®é€šå˜é‡é‚£æ ·è¢«è®¿é—®å’Œé‡æ–°èµ‹å€¼ï¼Œä½†è¿™äº›æ“ä½œåœ¨ç¼–è¯‘åéƒ½ä¼šå˜ä¸ºå¸¦ "),t("code",[s._v(".value")]),s._v(" çš„ "),t("code",[s._v("ref")]),s._v("ã€‚æ‰€ä»¥ä¸Šé¢ä¾‹å­ä¸­çš„ä»£ç ä¹Ÿä¼šè¢«ç¼–è¯‘æˆä½¿ç”¨ "),t("code",[s._v("ref")]),s._v(" å®šä¹‰çš„è¯­æ³•ã€‚")]),s._v(" "),t("li",[s._v("æ¯ä¸€ä¸ªä¼šè¿”å› "),t("code",[s._v("ref")]),s._v(" çš„å“åº”å¼ API éƒ½æœ‰ä¸€ä¸ªç›¸å¯¹åº”çš„ã€ä»¥ "),t("code",[s._v("$")]),s._v(" ä¸ºå‰ç¼€çš„å®å‡½æ•°ã€‚åŒ…æ‹¬ä»¥ä¸‹è¿™äº› APIï¼š")])]),s._v(" "),t("ul",[t("li",[s._v("ref -> $ref")]),s._v(" "),t("li",[s._v("computed -> $computed")]),s._v(" "),t("li",[s._v("shallowRef -> $shallowRef")]),s._v(" "),t("li",[s._v("customRef -> $customRef")]),s._v(" "),t("li",[s._v("toRef -> $toRef")])]),s._v(" "),t("ol",[t("li",[s._v("å¯ä»¥ä½¿ç”¨ "),t("code",[s._v("$()")]),s._v(" å®æ¥å°†ç°å­˜çš„ "),t("code",[s._v("ref")]),s._v(" è½¬æ¢ä¸ºå“åº”å¼å˜é‡ã€‚")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("const a = ref(0)\nlet count = $(a)\ncount++\nconsole.log(a.value) // 1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("ol",[t("li",[s._v("å¯ä»¥ä½¿ç”¨ "),t("code",[s._v("$$()")]),s._v(" å®æ¥å°†ä»»ä½•å¯¹å“åº”å¼å˜é‡çš„å¼•ç”¨éƒ½ä¼šä¿ç•™ä¸ºå¯¹ç›¸åº” "),t("code",[s._v("ref")]),s._v(" çš„å¼•ç”¨ã€‚")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("let count = $ref(0)\nconsole.log(isRef($$(count))) // true\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("code",[s._v("$$()")]),s._v(" ä¹Ÿé€‚ç”¨äºå·²è§£æ„çš„ "),t("code",[s._v("props")]),s._v("ï¼Œå› ä¸ºå®ƒä»¬ä¹Ÿæ˜¯å“åº”å¼çš„å˜é‡ã€‚ç¼–è¯‘å™¨ä¼šé«˜æ•ˆåœ°é€šè¿‡ "),t("code",[s._v("toRef")]),s._v(" æ¥åšè½¬æ¢ï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("const { count } = defineProps<{ count: number }>()\npassAsRef($$(count))\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"é…ç½®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®"}},[s._v("#")]),s._v(" é…ç½®")]),s._v(" "),t("hr"),s._v(" "),t("p",[s._v("å“åº”æ€§è¯­æ³•ç³–æ˜¯ "),t("strong",[s._v("ç»„åˆå¼ API")]),s._v(" ç‰¹æœ‰çš„åŠŸèƒ½ï¼Œä¸”å¿…é¡»é€šè¿‡æ„å»ºæ­¥éª¤ä½¿ç”¨ã€‚")]),s._v(" "),t("ol",[t("li",[s._v("å¿…é¡»ï¼Œéœ€è¦ "),t("code",[s._v("@vitejs/plugin-vue@>=2.0.0")]),s._v("ï¼Œå°†åº”ç”¨äº SFC å’Œ js(x)/ts(x) æ–‡ä»¶ã€‚")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// vite.config.js")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("reactivityTransform")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("ul",[t("li",[s._v("æ³¨æ„ "),t("code",[s._v("reactivityTransform")]),s._v(" ç°åœ¨æ˜¯ä¸€ä¸ªæ’ä»¶çš„é¡¶å±‚é€‰é¡¹ï¼Œè€Œä¸å†æ˜¯ä½äº "),t("code",[s._v("script.refSugar")]),s._v(" ä¹‹ä¸­äº†ï¼Œå› ä¸ºå®ƒä¸ä»…ä»…åªå¯¹ SFC èµ·æ•ˆã€‚")])]),s._v(" "),t("p",[s._v("å¦‚æœæ˜¯ "),t("code",[s._v("vue-cli")]),s._v(" æ„å»ºï¼Œéœ€è¦ "),t("code",[s._v("vue-loader@>=17.0.0")]),s._v("ï¼Œç›®å‰ä»…å¯¹ SFC èµ·æ•ˆã€‚")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// vue.config.js")]),s._v("\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("chainWebpack")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("config")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("module\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rule")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vue'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vue-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tap")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("options")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("reactivityTransform")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[s._v("å¦‚æœæ˜¯ "),t("code",[s._v("webpack")]),s._v(" + "),t("code",[s._v("vue-loader")]),s._v(" æ„å»ºï¼Œéœ€è¦ "),t("code",[s._v("vue-loader@>=17.0.0")]),s._v("ï¼Œç›®å‰ä»…å¯¹ SFC èµ·æ•ˆã€‚")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// webpack.config.js")]),s._v("\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("module")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("rules")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.vue$")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vue-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("options")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("reactivityTransform")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("ol",[t("li",[s._v("å¯é€‰ï¼Œ"),t("code",[s._v("tsconfig.json")]),s._v(" æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç , ä¸ç„¶ä¼šæŠ¥é”™ "),t("code",[s._v("TS2304: Cannot find name '$ref'.")]),s._v("ï¼Œè™½ç„¶ä¸å½±å“ä½¿ç”¨,ä½†æ˜¯ä¼šå½±å“å¼€å‘ä½“éªŒï¼š")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('"compilerOptions":{ "types": ["vue/ref-macros"] } \n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",[t("li",[s._v("å¯é€‰ï¼Œ"),t("code",[s._v("eslintrc.cjs")]),s._v(" æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼Œä¸ç„¶ä¼šæç¤º "),t("code",[s._v("ESLint: '$ref' is not defined.(no-undef)")]),s._v("ï¼š")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('module.exports = { globals: {\n    $ref: "readonly",\n    $computed: "readonly",\n    $shallowRef: "readonly",\n    $customRef: "readonly",\n    $toRef: "readonly",\n  }\n}; \n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("4.å½“å¯ç”¨å“åº”æ€§è¯­æ³•ç³–æ—¶ï¼Œè¿™äº›å®å‡½æ•°éƒ½æ˜¯å…¨å±€å¯ç”¨çš„ã€æ— éœ€æ‰‹åŠ¨å¯¼å…¥ã€‚ä¹Ÿå¯ä»¥åœ¨ vue æ–‡ä»¶ä¸­æ˜¾å¼å¼•å…¥ "),t("code",[s._v("vue/macros")]),s._v("ï¼Œè¿™æ ·å°±ä¸ç”¨é…ç½®ç¬¬äºŒå’Œç¬¬ä¸‰æ­¥ä¸­çš„ "),t("code",[s._v("tsconfig.json")]),s._v(" å’Œ "),t("code",[s._v("eslintrc")]),s._v(" äº†ã€‚")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("import { $ref } from 'vue/macros'\n\nlet count = $ref(0)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"å·²åºŸå¼ƒçš„å®éªŒæ€§åŠŸèƒ½"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å·²åºŸå¼ƒçš„å®éªŒæ€§åŠŸèƒ½"}},[s._v("#")]),s._v(" å·²åºŸå¼ƒçš„å®éªŒæ€§åŠŸèƒ½")]),s._v(" "),t("hr"),s._v(" "),t("ol",[t("li",[s._v("å“åº”æ€§è¯­æ³•ç³–æ›¾ç»æ˜¯ä¸€ä¸ªå®éªŒæ€§åŠŸèƒ½ï¼Œä¸”å·²è¢«åºŸå¼ƒï¼Œè¯·é˜…è¯»"),t("strong",[s._v("åºŸå¼ƒåŸå› ")]),s._v("[1]ã€‚")]),s._v(" "),t("li",[s._v("åœ¨æœªæ¥çš„ä¸€ä¸ªå°ç‰ˆæœ¬æ›´æ–°ä¸­ï¼Œå®ƒå°†ä¼šä» Vue core ä¸­è¢«ç§»é™¤ã€‚å¦‚éœ€ç»§ç»­ä½¿ç”¨ï¼Œè¯·é€šè¿‡ "),t("strong",[s._v("Vue Macros")]),s._v("[2] æ’ä»¶")])]),s._v(" "),t("h2",{attrs:{id:"åºŸå¼ƒåŸå› "}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åºŸå¼ƒåŸå› "}},[s._v("#")]),s._v(" åºŸå¼ƒåŸå› ")]),s._v(" "),t("hr"),s._v(" "),t("p",[s._v("å°¤é›¨æºªåœ¨2023 å¹´ 2 æœˆ 21 æ—¥ä¸Šåˆ 10:05 GMT+8ï¼Œäº²è‡ªç»™å‡ºäº†åºŸå¼ƒçš„åŸå› ï¼Œç¿»è¯‘å¦‚ä¸‹ï¼š")]),s._v(" "),t("p",[s._v("æ­£å¦‚ä½ ä»¬ä¸­çš„è®¸å¤šäººå·²ç»çŸ¥é“çš„é‚£æ ·ï¼Œæˆ‘ä»¬åœ¨å›¢é˜Ÿä¸€è‡´åŒæ„çš„æƒ…å†µä¸‹æ­£å¼æ”¾å¼ƒäº†è¿™ä¸ª RFCã€‚")]),s._v(" "),t("h3",{attrs:{id:"ç†ç”±"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç†ç”±"}},[s._v("#")]),s._v(" ç†ç”±")]),s._v(" "),t("p",[s._v("Reactivity Transform çš„æœ€åˆç›®æ ‡æ˜¯é€šè¿‡åœ¨å¤„ç†ååº”çŠ¶æ€æ—¶æä¾›æ›´ç®€æ´çš„è¯­æ³•æ¥æ”¹å–„å¼€å‘äººå‘˜çš„ä½“éªŒã€‚æˆ‘ä»¬å°†å…¶ä½œä¸ºå®éªŒæ€§äº§å“å‘å¸ƒï¼Œä»¥æ”¶é›†æ¥è‡ªç°å®ä¸–ç•Œä½¿ç”¨æƒ…å†µçš„åé¦ˆã€‚å°½ç®¡æå‡ºäº†è¿™äº›å¥½å¤„ï¼Œæˆ‘ä»¬è¿˜æ˜¯å‘ç°äº†ä»¥ä¸‹é—®é¢˜ï¼š")]),s._v(" "),t("ol",[t("li",[s._v("å¤±å» "),t("code",[s._v(".value")]),s._v(" ä½¿å¾—æ›´éš¾åˆ†è¾¨æ­£åœ¨è·Ÿè¸ªçš„å†…å®¹ä»¥åŠå“ªæ¡çº¿è§¦å‘äº†ååº”æ•ˆæœã€‚è¿™ä¸ªé—®é¢˜åœ¨å°å‹ SFC ä¸­å¹¶ä¸é‚£ä¹ˆæ˜æ˜¾ï¼Œä½†åœ¨å¤§å‹ä»£ç åº“ä¸­ï¼Œå¿ƒç†å¼€é”€å˜å¾—æ›´åŠ æ˜æ˜¾ï¼Œç‰¹åˆ«æ˜¯å¦‚æœè¯­æ³•ä¹Ÿåœ¨ SFC "),t("strong",[s._v("ä¹‹å¤–ä½¿ç”¨ã€‚")])]),s._v(" "),t("li",[s._v("ç”±äº (1)ï¼Œä¸€äº›ç”¨æˆ·é€‰æ‹©ä»…åœ¨ SFC å†…éƒ¨ä½¿ç”¨ Reactivity Transformï¼Œè¿™ä¼šåœ¨ä¸åŒå¿ƒæ™ºæ¨¡å‹ä¹‹é—´é€ æˆä¸ä¸€è‡´å’Œä¸Šä¸‹æ–‡è½¬æ¢æˆæœ¬ã€‚å› æ­¤ï¼Œå›°å¢ƒåœ¨äºä»…åœ¨ SFC å†…éƒ¨ä½¿ç”¨å®ƒä¼šå¯¼è‡´ä¸ä¸€è‡´ï¼Œä½†åœ¨ SFC å¤–éƒ¨ä½¿ç”¨å®ƒä¼šæŸå®³å¯ç»´æŠ¤æ€§ã€‚")]),s._v(" "),t("li",[s._v("ç”±äºä»ç„¶ä¼šæœ‰å¤–éƒ¨å‡½æ•°æœŸæœ›ä½¿ç”¨åŸå§‹å¼•ç”¨ï¼Œå› æ­¤ååº”å˜é‡å’ŒåŸå§‹å¼•ç”¨ä¹‹é—´çš„è½¬æ¢æ˜¯ä¸å¯é¿å…çš„ã€‚è¿™æœ€ç»ˆå¢åŠ äº†æ›´å¤šçš„å­¦ä¹ å†…å®¹å’Œé¢å¤–çš„ç²¾ç¥è´Ÿæ‹…ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°è¿™æ¯”æ™®é€šçš„ Composition API æ›´è®©åˆå­¦è€…æ„Ÿåˆ°å›°æƒ‘ã€‚")])]),s._v(" "),t("p",[s._v("æœ€é‡è¦çš„æ˜¯ï¼Œç¢ç‰‡åŒ–çš„æ½œåœ¨é£é™©ã€‚å°½ç®¡è¿™æ˜¯æ˜ç¡®çš„é€‰æ‹©åŠ å…¥ï¼Œä½†ä¸€äº›ç”¨æˆ·å¯¹è¯¥æè®®è¡¨ç¤ºå¼ºçƒˆåå¯¹ï¼ŒåŸå› æ˜¯ä»–ä»¬æ‹…å¿ƒä»–ä»¬å°†ä¸å¾—ä¸ä¸ä¸åŒçš„ä»£ç åº“ä¸€èµ·å·¥ä½œï¼Œåœ¨è¿™äº›ä»£ç åº“ä¸­ï¼Œæœ‰äº›äººé€‰æ‹©äº†ä½¿ç”¨å®ƒï¼Œè€Œæœ‰äº›äººåˆ™æ²¡æœ‰ã€‚è¿™æ˜¯ä¸€ä¸ªåˆç†çš„æ‹…å¿§ï¼Œå› ä¸º Reactivity Transform éœ€è¦ä¸€ç§ä¸åŒçš„å¿ƒæ™ºæ¨¡å‹ï¼Œå®ƒä¼šæ‰­æ›² JavaScript è¯­ä¹‰ï¼ˆå˜é‡èµ‹å€¼èƒ½å¤Ÿè§¦å‘ååº”æ•ˆæœï¼‰ã€‚")]),s._v(" "),t("p",[s._v("è€ƒè™‘åˆ°æ‰€æœ‰å› ç´ ï¼Œæˆ‘ä»¬è®¤ä¸ºå°†å…¶ä½œä¸ºä¸€ä¸ªç¨³å®šçš„åŠŸèƒ½ä½¿ç”¨ä¼šå¯¼è‡´é—®é¢˜å¤šäºæ”¶ç›Šï¼Œå› æ­¤ä¸æ˜¯ä¸€ä¸ªå¥½çš„æƒè¡¡ã€‚")]),s._v(" "),t("h3",{attrs:{id:"è¿ç§»è®¡åˆ’"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è¿ç§»è®¡åˆ’"}},[s._v("#")]),s._v(" è¿ç§»è®¡åˆ’")]),s._v(" "),t("ul",[t("li",[s._v("è¯¥åŠŸèƒ½å·²ç»é€šè¿‡ "),t("strong",[s._v("Vue Macros")]),s._v("[3] ä»¥å¤–éƒ¨åŒ…çš„å½¢å¼å¾—åˆ°æ”¯æŒã€‚")]),s._v(" "),t("li",[s._v("3.3ï¼šè¯¥åŠŸèƒ½å°†è¢«æ ‡è®°ä¸ºå·²å¼ƒç”¨ã€‚å®ƒå°†ç»§ç»­å·¥ä½œï¼Œä½†æ‚¨åº”è¯¥åœ¨æ­¤æœŸé—´è¿ç§»åˆ° Vue Macrosã€‚")]),s._v(" "),t("li",[s._v("3.4ï¼šè¯¥åŠŸèƒ½å°†ä»æ ¸å¿ƒä¸­åˆ é™¤ï¼Œé™¤éä½¿ç”¨ Vue Macrosï¼Œå¦åˆ™å°†ä¸å†æœ‰æ•ˆã€‚")])]),s._v(" "),t("h3",{attrs:{id:"ç•™è¨€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç•™è¨€"}},[s._v("#")]),s._v(" ç•™è¨€")]),s._v(" "),t("ul",[t("li",[s._v("è™½ç„¶ Reactivity Transform ä¼šä»å®˜æ–¹åŒ…ä¸­ç§»é™¤ï¼Œä½†æˆ‘è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å°è¯•ã€‚")]),s._v(" "),t("li",[s._v("å†™å¾—å¥½ã€‚æˆ‘å–œæ¬¢è¯¦ç»†çš„ RFC å’ŒåŸºäºç”¨æˆ·åé¦ˆçš„å®¢è§‚è¯„ä¼°ã€‚æœ€åçš„ç»“è®ºå¾ˆæœ‰é“ç†ã€‚ä¸è¦è®©å®Œç¾æˆä¸ºä¼˜ç§€çš„æ•Œäººã€‚")]),s._v(" "),t("li",[s._v("è™½ç„¶æˆ‘å¾ˆäº«å—è¿™ä¸ªåŠŸèƒ½å¸¦æ¥çš„ä¾¿åˆ©ï¼Œä½†æˆ‘åœ¨å®é™…ä½¿ç”¨ä¸­ç¡®å®å‘ç°äº†è¿™ä¸ªæ½œåœ¨çš„ç¢ç‰‡é—®é¢˜ã€‚åœ¨æœªæ¥çš„ç‰ˆæœ¬ä¸­åˆ é™¤æ­¤åŠŸèƒ½å¯èƒ½ä¸å¤ªæƒ…æ„¿ï¼Œä½†å·¥ç¨‹å¸ˆåº”è¯¥è®¤çœŸå¯¹å¾…ã€‚ğŸ™‚")]),s._v(" "),t("li",[s._v("æ‚¨æ˜¯åˆ é™¤æ‰€æœ‰åŠŸèƒ½è¿˜æ˜¯ä»…åˆ é™¤ "),t("code",[s._v("ref.value")]),s._v(" è¿›è¡Œè½¬æ¢çš„éƒ¨åˆ†ï¼Ÿå“åº”å¼ "),t("code",[s._v("props")]),s._v(" è§£æ„å‘¢ï¼Œå®ƒä¼šç•™ä¸‹æ¥å—ï¼Ÿ")]),s._v(" "),t("li",[s._v("æˆ‘ä¸€ç›´åœ¨å°†å®ƒç”¨äºä¸­ç­‰è§„æ¨¡çš„ç”µå­å•†åŠ¡ç½‘ç«™ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚æˆ‘ç†è§£åˆ é™¤å®ƒèƒŒåçš„åŸºæœ¬åŸç†ï¼Œä½†åœ¨å®è·µä¸­æˆ‘å‘ç°å®ƒç¡®å®æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ”¹è¿›ã€‚æ‰€ä»¥æˆ‘çš„é—®é¢˜æ˜¯ï¼šç°åœ¨æ€ä¹ˆåŠï¼Ÿ")]),s._v(" "),t("li",[s._v("æ˜¯å¦å»ºè®®é‚£äº›è®¨åŒ "),t("code",[s._v(".value")]),s._v(" çš„äººç°åœ¨å°½å¯èƒ½é¿å…ä½¿ç”¨ "),t("code",[s._v("ref()")]),s._v(" å¹¶åƒä»¥å‰é‚£æ ·ä½¿ç”¨ "),t("code",[s._v("reactive()")]),s._v("ï¼Ÿ")]),s._v(" "),t("li",[t("code",[s._v(".value")]),s._v(" æ˜¯å¿…è¦çš„å¤æ‚æ€§ã€‚å°±åƒä»»ä½•å…¶ä»–å“åº”å¼åº“ "),t("code",[s._v("xxx.set()")]),s._v(" ä¸€æ ·ã€‚")]),s._v(" "),t("li",[s._v("åˆ›å»ºä¸€ä¸ªè½¬æ¢æ‰€æœ‰ Reactivity Transform ä»£ç çš„åŒ…åº”è¯¥å¾ˆå®¹æ˜“å§ï¼Ÿæˆ‘ä¹Ÿå–œæ¬¢æŒ‰ç…§æ¨èçš„æ–¹å¼åšäº‹ã€‚")]),s._v(" "),t("li",[s._v("...")])]),s._v(" "),t("h3",{attrs:{id:"å‚è€ƒèµ„æ–™"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™"}},[s._v("#")]),s._v(" å‚è€ƒèµ„æ–™")]),s._v(" "),t("p",[s._v("[1]åºŸå¼ƒåŸå› : "),t("em",[s._v("https://github.com/vuejs/rfcs/discussions/369#discussioncomment-5059028")])]),s._v(" "),t("p",[s._v("[2]Vue Macros: "),t("em",[s._v("https://vue-macros.sxzz.moe/features/reactivity-transform.html")])]),s._v(" "),t("p",[s._v("[3]Vue Macros: "),t("em",[s._v("https://vue-macros.sxzz.moe/features/reactivity-transform.html")])])])}),[],!1,null,null,null);t.default=n.exports}}]);