(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{683:function(s,n,e){"use strict";e.r(n);var a=e(2),t=Object(a.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"_0ã€å‰è¨€"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_0ã€å‰è¨€"}},[s._v("#")]),s._v(" 0ã€å‰è¨€")]),s._v(" "),n("hr"),s._v(" "),n("p",[s._v("å…³äº"),n("code",[s._v("promiseã€async/await")]),s._v("çš„ä½¿ç”¨ç›¸ä¿¡å¾ˆå¤šå°ä¼™ä¼´éƒ½æ¯”è¾ƒç†Ÿæ‚‰äº†ï¼Œä½†æ˜¯æåˆ°"),n("strong",[s._v("äº‹ä»¶å¾ªç¯æœºåˆ¶è¾“å‡ºç»“æœ")]),s._v("ç±»ä¼¼çš„é¢˜ç›®ï¼Œä½ æ•¢è¯´éƒ½ä¼šï¼Ÿ")]),s._v(" "),n("p",[s._v("è¯•ä¸€è¯•ï¼Ÿ")]),s._v(" "),n("p",[s._v("ğŸŒ°1ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("async function async1 () {\n    await new Promise((resolve, reject) => {\n        resolve()\n    })\n    console.log('A')\n}\n\nasync1()\n\nnew Promise((resolve) => {\n    console.log('B')\n    resolve()\n}).then(() => {\n    console.log('C')\n}).then(() => {\n    console.log('D')\n})\n\n// æœ€ç»ˆç»“æœğŸ‘‰: B A C D\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("p",[s._v("ğŸŒ°2ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("async function async1 () {\n    await async2()\n    console.log('A')\n}\n\nasync function async2 () {\n    return new Promise((resolve, reject) => {\n        resolve()\n    })\n}\n\nasync1()\n\nnew Promise((resolve) => {\n    console.log('B')\n    resolve()\n}).then(() => {\n    console.log('C')\n}).then(() => {\n    console.log('D')\n})\n\n// æœ€ç»ˆç»“æœğŸ‘‰: B C D A\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])]),n("p",[s._v("â“ åŸºæœ¬ä¸€æ ·çš„ä»£ç ä¸ºä»€ä¹ˆä¼šå‡ºç°å·®åˆ«ï¼Œè¯ä¸å¤šè¯´ ğŸ‘‡")]),s._v(" "),n("h2",{attrs:{id:"_1ã€async-å‡½æ•°è¿”å›å€¼"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€async-å‡½æ•°è¿”å›å€¼"}},[s._v("#")]),s._v(" 1ã€async å‡½æ•°è¿”å›å€¼")]),s._v(" "),n("hr"),s._v(" "),n("p",[s._v("åœ¨è®¨è®º "),n("code",[s._v("await")]),s._v(" ä¹‹å‰ï¼Œå…ˆèŠä¸€ä¸‹ "),n("code",[s._v("async")]),s._v(" å‡½æ•°å¤„ç†è¿”å›å€¼çš„é—®é¢˜ï¼Œå®ƒä¼šåƒ "),n("code",[s._v("Promise.prototype.then")]),s._v(" ä¸€æ ·ï¼Œä¼šå¯¹è¿”å›å€¼çš„ç±»å‹è¿›è¡Œè¾¨è¯†ã€‚")]),s._v(" "),n("p",[s._v("ğŸ‘‰"),n("strong",[s._v("æ ¹æ®è¿”å›å€¼çš„ç±»å‹ï¼Œå¼•èµ· "),n("code",[s._v("jså¼•æ“")]),s._v(" å¯¹è¿”å›å€¼å¤„ç†æ–¹å¼çš„ä¸åŒ")])]),s._v(" "),n("blockquote",[n("p",[s._v("ğŸ“‘ ç»“è®ºï¼š"),n("code",[s._v("async")]),s._v("å‡½æ•°åœ¨æŠ›å‡ºè¿”å›å€¼æ—¶ï¼Œä¼šæ ¹æ®è¿”å›å€¼"),n("strong",[s._v("ç±»å‹")]),s._v("å¼€å¯"),n("strong",[s._v("ä¸åŒæ•°ç›®çš„å¾®ä»»åŠ¡")])]),s._v(" "),n("ul",[n("li",[s._v("return ç»“æœå€¼ï¼šé"),n("code",[s._v("thenable")]),s._v("ã€é"),n("code",[s._v("promise")]),s._v("ï¼ˆä¸ç­‰å¾…ï¼‰")]),s._v(" "),n("li",[s._v("return ç»“æœå€¼ï¼š"),n("code",[s._v("thenable")]),s._v("ï¼ˆç­‰å¾… 1 ä¸ª"),n("code",[s._v("then")]),s._v("çš„æ—¶é—´ï¼‰")]),s._v(" "),n("li",[s._v("return ç»“æœå€¼ï¼š"),n("code",[s._v("promise")]),s._v("ï¼ˆç­‰å¾… 2 ä¸ª"),n("code",[s._v("then")]),s._v("çš„æ—¶é—´ï¼‰")])])]),s._v(" "),n("p",[s._v("ğŸŒ°1ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("async function testA () {\n    return 1;\n}\n\ntestA().then(() => console.log(1));\nPromise.resolve()\n    .then(() => console.log(2))\n    .then(() => console.log(3));\n\n// (ä¸ç­‰å¾…)æœ€ç»ˆç»“æœğŸ‘‰: 1 2 3\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[s._v("ğŸŒ°2ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("async function testB () {\n    return {\n        then (cb) {\n            cb();\n        }\n    };\n}\n\ntestB().then(() => console.log(1));\nPromise.resolve()\n    .then(() => console.log(2))\n    .then(() => console.log(3));\n\n// (ç­‰å¾…ä¸€ä¸ªthen)æœ€ç»ˆç»“æœğŸ‘‰: 2 1 3\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[s._v("ğŸŒ°3ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("async function testC () {\n    return new Promise((resolve, reject) => {\n        resolve()\n    })\n}\n\ntestC().then(() => console.log(1));\nPromise.resolve()\n    .then(() => console.log(2))\n    .then(() => console.log(3));\n\n// (ç­‰å¾…ä¸¤ä¸ªthen)æœ€ç»ˆç»“æœğŸ‘‰: 2 3 1\n\n\n\n\nasync function testC () {\n    return new Promise((resolve, reject) => {\n        resolve()\n    })\n}\n\ntestC().then(() => console.log(1));\nPromise.resolve()\n    .then(() => console.log(2))\n    .then(() => console.log(3))\n    .then(() => console.log(4))\n\n// (ç­‰å¾…ä¸¤ä¸ªthen)æœ€ç»ˆç»“æœğŸ‘‰: 2 3 1 4\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br")])]),n("p",[s._v("çœ‹äº†è¿™ä¸‰ä¸ª ğŸŒ° æ˜¯ä¸æ˜¯å¯¹"),n("code",[s._v("ä¸Šé¢çš„ç»“è®º")]),s._v("æœ‰äº†æ›´æ·±çš„è®¤è¯†ï¼Ÿ")]),s._v(" "),n("p",[s._v("ç¨å®‰å‹¿èºï¼Œæ¥è¯•è¯•ä¸€ä¸ªç»å…¸é¢è¯•é¢˜ ğŸ‘‡")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("async function async1 () {\n    console.log('1')\n    await async2()\n    console.log('AAA')\n}\n\nasync function async2 () {\n    console.log('3')\n    return new Promise((resolve, reject) => {\n        resolve()\n        console.log('4')\n    })\n}\n\nconsole.log('5')\n\nsetTimeout(() => {\n    console.log('6')\n}, 0);\n\nasync1()\n\nnew Promise((resolve) => {\n    console.log('7')\n    resolve()\n}).then(() => {\n    console.log('8')\n}).then(() => {\n    console.log('9')\n}).then(() => {\n    console.log('10')\n})\nconsole.log('11')\n\n// æœ€ç»ˆç»“æœğŸ‘‰: 5 1 3 4 7 11 8 9 AAA 10 6\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br")])]),n("p",[s._v("ğŸ‘€ åšé”™äº†å§ï¼Ÿ")]),s._v(" "),n("p",[s._v("å“ˆå“ˆæ²¡å…³ç³»")]),s._v(" "),n("blockquote",[n("p",[s._v("æ­¥éª¤æ‹†åˆ† ğŸ‘‡ï¼š")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("å…ˆæ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œè¾“å‡º"),n("code",[s._v("5")])])]),s._v(" "),n("li",[n("p",[s._v("æ‰§è¡Œ"),n("code",[s._v("setTimeout")]),s._v("ï¼Œæ˜¯æ”¾å…¥å®ä»»åŠ¡å¼‚æ­¥é˜Ÿåˆ—ä¸­")])]),s._v(" "),n("li",[n("p",[s._v("æ¥ç€æ‰§è¡Œ"),n("code",[s._v("async1")]),s._v("å‡½æ•°ï¼Œè¾“å‡º"),n("code",[s._v("1")])])]),s._v(" "),n("li",[n("p",[s._v("æ‰§è¡Œ"),n("code",[s._v("async2")]),s._v("å‡½æ•°ï¼Œè¾“å‡º"),n("code",[s._v("3")])])]),s._v(" "),n("li",[n("p",[n("code",[s._v("Promise")]),s._v("æ„é€ å™¨ä¸­ä»£ç å±äºåŒæ­¥ä»£ç ï¼Œè¾“å‡º"),n("code",[s._v("4")])]),s._v(" "),n("blockquote",[n("p",[n("code",[s._v("async2")]),s._v("å‡½æ•°çš„è¿”å›å€¼æ˜¯"),n("code",[s._v("Promise")]),s._v("ï¼Œç­‰å¾…"),n("code",[s._v("2")]),s._v("ä¸ª"),n("code",[s._v("then")]),s._v("åæ”¾è¡Œï¼Œæ‰€ä»¥"),n("code",[s._v("AAA")]),s._v("æš‚æ—¶æ— æ³•è¾“å‡º")])])]),s._v(" "),n("li",[n("p",[n("code",[s._v("async1")]),s._v("å‡½æ•°"),n("strong",[s._v("æš‚æ—¶")]),s._v("ç»“æŸï¼Œç»§ç»­å¾€ä¸‹èµ°ï¼Œè¾“å‡º"),n("code",[s._v("7")])])]),s._v(" "),n("li",[n("p",[s._v("åŒæ­¥ä»£ç ï¼Œè¾“å‡º"),n("code",[s._v("11")])])]),s._v(" "),n("li",[n("p",[s._v("æ‰§è¡Œç¬¬ä¸€ä¸ª"),n("code",[s._v("then")]),s._v("ï¼Œè¾“å‡º"),n("code",[s._v("8")])])]),s._v(" "),n("li",[n("p",[s._v("æ‰§è¡Œç¬¬äºŒä¸ª"),n("code",[s._v("then")]),s._v("ï¼Œè¾“å‡º"),n("code",[s._v("9")])])]),s._v(" "),n("li",[n("p",[s._v("ç»ˆäº"),n("strong",[s._v("ç­‰")]),s._v("åˆ°äº†ä¸¤ä¸ª"),n("code",[s._v("then")]),s._v("æ‰§è¡Œå®Œæ¯•ï¼Œæ‰§è¡Œ"),n("code",[s._v("async1")]),s._v("å‡½æ•°é‡Œé¢å‰©ä¸‹çš„ï¼Œè¾“å‡º"),n("code",[s._v("AAA")])])]),s._v(" "),n("li",[n("p",[s._v("å†æ‰§è¡Œæœ€åä¸€ä¸ªå¾®ä»»åŠ¡"),n("code",[s._v("then")]),s._v("ï¼Œè¾“å‡º"),n("code",[s._v("10")])])]),s._v(" "),n("li",[n("p",[s._v("æ‰§è¡Œæœ€åçš„å®ä»»åŠ¡"),n("code",[s._v("setTimeout")]),s._v("ï¼Œè¾“å‡º"),n("code",[s._v("6")])])])])]),s._v(" "),n("p",[s._v("â“ æ˜¯ä¸æ˜¯è±ç„¶å¼€æœ—ï¼Œæ¬¢è¿ç‚¹èµæ”¶è—ï¼")]),s._v(" "),n("h2",{attrs:{id:"_2ã€await-å³å€¼ç±»å‹åŒºåˆ«"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€await-å³å€¼ç±»å‹åŒºåˆ«"}},[s._v("#")]),s._v(" 2ã€await å³å€¼ç±»å‹åŒºåˆ«")]),s._v(" "),n("hr"),s._v(" "),n("h3",{attrs:{id:"_2-1ã€é-thenable"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1ã€é-thenable"}},[s._v("#")]),s._v(" 2.1ã€é "),n("code",[s._v("thenable")])]),s._v(" "),n("p",[s._v("ğŸŒ°1ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("async function test () {\n    console.log(1);\n    await 1;\n    console.log(2);\n}\n\ntest();\nconsole.log(3);\n// æœ€ç»ˆç»“æœğŸ‘‰: 1 3 2\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("ğŸŒ°2ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("function func () {\n    console.log(2);\n}\n\nasync function test () {\n    console.log(1);\n    await func();\n    console.log(3);\n}\n\ntest();\nconsole.log(4);\n\n// æœ€ç»ˆç»“æœğŸ‘‰: 1 2 4 3\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[s._v("ğŸŒ°3ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("async function test () {\n    console.log(1);\n    await 123\n    console.log(2);\n}\n\ntest();\nconsole.log(3);\n\nPromise.resolve()\n    .then(() => console.log(4))\n    .then(() => console.log(5))\n    .then(() => console.log(6))\n    .then(() => console.log(7));\n\n// æœ€ç»ˆç»“æœğŸ‘‰: 1 3 2 4 5 6 7\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("blockquote",[n("p",[s._v("Note:")]),s._v(" "),n("p",[n("code",[s._v("await")]),s._v("åé¢æ¥é "),n("code",[s._v("thenable")]),s._v(" ç±»å‹ï¼Œä¼šç«‹å³å‘å¾®ä»»åŠ¡é˜Ÿåˆ—æ·»åŠ ä¸€ä¸ªå¾®ä»»åŠ¡"),n("code",[s._v("then")]),s._v("ï¼Œ"),n("strong",[s._v("ä½†ä¸éœ€ç­‰å¾…")])])]),s._v(" "),n("h3",{attrs:{id:"_2-2ã€thenableç±»å‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2ã€thenableç±»å‹"}},[s._v("#")]),s._v(" 2.2ã€"),n("code",[s._v("thenable")]),s._v("ç±»å‹")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("async function test () {\n    console.log(1);\n    await {\n        then (cb) {\n            cb();\n        },\n    };\n    console.log(2);\n}\n\ntest();\nconsole.log(3);\n\nPromise.resolve()\n    .then(() => console.log(4))\n    .then(() => console.log(5))\n    .then(() => console.log(6))\n    .then(() => console.log(7));\n\n// æœ€ç»ˆç»“æœğŸ‘‰: 1 3 4 2 5 6 7\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br")])]),n("blockquote",[n("p",[s._v("Note:")]),s._v(" "),n("p",[n("code",[s._v("await")]),s._v(" åé¢æ¥ "),n("code",[s._v("thenable")]),s._v(" ç±»å‹ï¼Œéœ€è¦"),n("strong",[s._v("ç­‰å¾…ä¸€ä¸ª "),n("code",[s._v("then")]),s._v(" çš„æ—¶é—´ä¹‹å")]),s._v("æ‰§è¡Œ")])]),s._v(" "),n("h3",{attrs:{id:"_2-3ã€promiseç±»å‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3ã€promiseç±»å‹"}},[s._v("#")]),s._v(" 2.3ã€"),n("code",[s._v("Promise")]),s._v("ç±»å‹")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("async function test () {\n    console.log(1);\n    await new Promise((resolve, reject) => {\n        resolve()\n    })\n    console.log(2);\n}\n\ntest();\nconsole.log(3);\n\nPromise.resolve()\n    .then(() => console.log(4))\n    .then(() => console.log(5))\n    .then(() => console.log(6))\n    .then(() => console.log(7));\n\n// æœ€ç»ˆç»“æœğŸ‘‰: 1 3 2 4 5 6 7\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("p",[s._v("â“ ä¸ºä»€ä¹ˆè¡¨ç°çš„å’Œé "),n("code",[s._v("thenable")]),s._v(" å€¼ä¸€æ ·å‘¢ï¼Ÿä¸ºä»€ä¹ˆä¸ç­‰å¾…ä¸¤ä¸ª "),n("code",[s._v("then")]),s._v(" çš„æ—¶é—´å‘¢ï¼Ÿ")]),s._v(" "),n("blockquote",[n("p",[s._v("Note:")]),s._v(" "),n("ul",[n("li",[s._v("TC 39(ECMAScript æ ‡å‡†åˆ¶å®šè€…) å¯¹"),n("code",[s._v("await")]),s._v(" åé¢æ˜¯ "),n("code",[s._v("promise")]),s._v(" çš„æƒ…å†µå¦‚ä½•å¤„ç†è¿›è¡Œäº†ä¸€æ¬¡ä¿®æ”¹ï¼Œ"),n("strong",[s._v("ç§»é™¤")]),s._v("äº†é¢å¤–çš„ä¸¤ä¸ªå¾®ä»»åŠ¡ï¼Œåœ¨"),n("strong",[s._v("æ—©æœŸç‰ˆæœ¬")]),s._v("ï¼Œä¾ç„¶ä¼šç­‰å¾…ä¸¤ä¸ª "),n("code",[s._v("then")]),s._v(" çš„æ—¶é—´")]),s._v(" "),n("li",[s._v("æœ‰å¤§ä½¬ç¿»è¯‘äº†å®˜æ–¹è§£é‡Šï¼š"),n("strong",[s._v("æ›´å¿«çš„ async å‡½æ•°å’Œ promises")]),s._v("[1]ï¼Œä½†åœ¨è¿™æ¬¡æ›´æ–°ä¸­å¹¶æ²¡æœ‰ä¿®æ”¹ "),n("code",[s._v("thenable")]),s._v(" çš„æƒ…å†µ")])])]),s._v(" "),n("hr"),s._v(" "),n("p",[s._v("è¿™æ ·åšå¯ä»¥æå¤§çš„ä¼˜åŒ– "),n("code",[s._v("await")]),s._v(" ç­‰å¾…çš„é€Ÿåº¦ ğŸ‘‡")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("async function func () {\n    console.log(1);\n    await 1;\n    console.log(2);\n    await 2;\n    console.log(3);\n    await 3;\n    console.log(4);\n}\n\nasync function test () {\n    console.log(5);\n    await func();\n    console.log(6);\n}\n\ntest();\nconsole.log(7);\n\nPromise.resolve()\n    .then(() => console.log(8))\n    .then(() => console.log(9))\n    .then(() => console.log(10))\n    .then(() => console.log(11));\n\n// æœ€ç»ˆç»“æœğŸ‘‰: 5 1 7 2 8 3 9 4 10 6 11\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br")])]),n("blockquote",[n("p",[s._v("Noteï¼š")]),s._v(" "),n("p",[n("code",[s._v("await")]),s._v(" å’Œ "),n("code",[s._v("Promise.prototype.then")]),s._v(" è™½ç„¶å¾ˆå¤šæ—¶å€™å¯ä»¥åœ¨"),n("strong",[s._v("æ—¶é—´é¡ºåº")]),s._v("ä¸Šèƒ½ç­‰æ•ˆï¼Œä½†æ˜¯å®ƒä»¬ä¹‹é—´æœ‰"),n("strong",[s._v("æœ¬è´¨çš„åŒºåˆ«")]),s._v("ã€‚")])]),s._v(" "),n("blockquote",[n("ul",[n("li",[n("code",[s._v("test")]),s._v(" å‡½æ•°ä¸­çš„ "),n("code",[s._v("await")]),s._v(" ä¼šç­‰å¾… "),n("code",[s._v("func")]),s._v(" å‡½æ•°ä¸­æ‰€æœ‰çš„ "),n("code",[s._v("await")]),s._v(" å–å¾— æ¢å¤å‡½æ•°æ‰§è¡Œ çš„å‘½ä»¤å¹¶ä¸”æ•´ä¸ªå‡½æ•°æ‰§è¡Œå®Œæ¯•åæ‰èƒ½è·å¾—å–å¾— "),n("strong",[s._v("æ¢å¤å‡½æ•°æ‰§è¡Œ")]),s._v("çš„å‘½ä»¤ï¼›")]),s._v(" "),n("li",[s._v("ä¹Ÿå°±æ˜¯è¯´ï¼Œ"),n("code",[s._v("func")]),s._v(" å‡½æ•°çš„ "),n("code",[s._v("await")]),s._v(" æ­¤æ—¶"),n("strong",[s._v("ä¸èƒ½åœ¨æ—¶é—´çš„é¡ºåºä¸Šç­‰æ•ˆ")]),s._v(" "),n("code",[s._v("then")]),s._v("ï¼Œè€Œè¦ç­‰å¾…åˆ° "),n("code",[s._v("test")]),s._v(" å‡½æ•°å®Œå…¨æ‰§è¡Œå®Œæ¯•ï¼›")]),s._v(" "),n("li",[s._v("æ¯”å¦‚è¿™é‡Œçš„æ•°å­—"),n("code",[s._v("6")]),s._v("å¾ˆæ™šæ‰è¾“å‡ºï¼Œ"),n("strong",[s._v("å¦‚æœ")]),s._v("å•çº¯çœ‹æˆ"),n("code",[s._v("then")]),s._v("çš„è¯ï¼Œåœ¨ä¸‹ä¸€ä¸ªå¾®ä»»åŠ¡é˜Ÿåˆ—æ‰§è¡Œæ—¶"),n("code",[s._v("6")]),s._v("å°±åº”è¯¥ä½œä¸ºåŒæ­¥ä»£ç è¾“å‡ºäº†æ‰å¯¹ã€‚")])])]),s._v(" "),n("hr"),s._v(" "),n("p",[s._v("æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆå¹¶ä¸¤ä¸ªå‡½æ•°çš„ä»£ç  ğŸ‘‡")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("async function test () {\n    console.log(5);\n\n    console.log(1);\n    await 1;\n    console.log(2);\n    await 2;\n    console.log(3);\n    await 3;\n    console.log(4);\n    await null;\n\n    console.log(6);\n}\n\ntest();\nconsole.log(7);\n\nPromise.resolve()\n    .then(() => console.log(8))\n    .then(() => console.log(9))\n    .then(() => console.log(10))\n    .then(() => console.log(11));\n\n// æœ€ç»ˆç»“æœğŸ‘‰: 5 1 7 2 8 3 9 4 10 6 11\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br")])]),n("hr"),s._v(" "),n("p",[s._v("å› ä¸ºå°†åŸæœ¬çš„å‡½æ•°èåˆï¼Œæ­¤æ—¶çš„ "),n("code",[s._v("await")]),s._v(" å¯ä»¥ç­‰æ•ˆä¸º "),n("code",[s._v("Promise.prototype.then")]),s._v("ï¼Œåˆå®Œå…¨å¯ä»¥ç­‰æ•ˆå¦‚ä¸‹ä»£ç  ğŸ‘‡")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("async function test () {\n    console.log(5);\n    console.log(1);\n    Promise.resolve()\n        .then(() => console.log(2))\n        .then(() => console.log(3))\n        .then(() => console.log(4))\n        .then(() => console.log(6))\n}\n\ntest();\nconsole.log(7);\n\nPromise.resolve()\n    .then(() => console.log(8))\n    .then(() => console.log(9))\n    .then(() => console.log(10))\n    .then(() => console.log(11));\n\n// æœ€ç»ˆç»“æœğŸ‘‰: 5 1 7 2 8 3 9 4 10 6 11\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br")])]),n("hr"),s._v(" "),n("p",[s._v("ä»¥ä¸Šä¸‰ç§å†™æ³•åœ¨æ—¶é—´çš„é¡ºåºä¸Šå®Œå…¨ç­‰æ•ˆï¼Œæ‰€ä»¥ä½  "),n("strong",[s._v("å®Œå…¨å¯ä»¥å°† "),n("code",[s._v("await")]),s._v(" åé¢çš„ä»£ç å¯ä»¥çœ‹åšåœ¨ "),n("code",[s._v("then")]),s._v(" é‡Œé¢æ‰§è¡Œçš„ç»“æœ")]),s._v("ï¼Œåˆå› ä¸º "),n("code",[s._v("async")]),s._v(" å‡½æ•°ä¼šè¿”å› "),n("code",[s._v("promise")]),s._v(" å®ä¾‹ï¼Œæ‰€ä»¥è¿˜å¯ä»¥ç­‰æ•ˆæˆ ğŸ‘‡")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("async function test () {\n    console.log(5);\n    console.log(1);\n}\n\ntest()\n    .then(() => console.log(2))\n    .then(() => console.log(3))\n    .then(() => console.log(4))\n    .then(() => console.log(6))\n\nconsole.log(7);\n\nPromise.resolve()\n    .then(() => console.log(8))\n    .then(() => console.log(9))\n    .then(() => console.log(10))\n    .then(() => console.log(11));\n\n// æœ€ç»ˆç»“æœğŸ‘‰: 5 1 7 2 8 3 9 4 10 6 11\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br")])]),n("p",[s._v("å¯ä»¥å‘ç°ï¼Œ"),n("code",[s._v("test")]),s._v(" å‡½æ•°å…¨æ˜¯èµ°çš„åŒæ­¥ä»£ç ...")]),s._v(" "),n("p",[s._v("æ‰€ä»¥ ğŸ‘‰ï¼š"),n("strong",[n("code",[s._v("async/await")]),s._v(" æ˜¯ç”¨åŒæ­¥çš„æ–¹å¼ï¼Œæ‰§è¡Œå¼‚æ­¥æ“ä½œ")])]),s._v(" "),n("h2",{attrs:{id:"_3ã€ğŸŒ°"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€ğŸŒ°"}},[s._v("#")]),s._v(" 3ã€ğŸŒ°")]),s._v(" "),n("hr"),s._v(" "),n("p",[s._v("ğŸŒ°1ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("async function async2 () {\n    new Promise((resolve, reject) => {\n        resolve()\n    })\n}\n\nasync function async3 () {\n    return new Promise((resolve, reject) => {\n        resolve()\n    })\n}\n\nasync function async1 () {\n    // æ–¹å¼ä¸€ï¼šæœ€ç»ˆç»“æœï¼šB A C D\n    // await new Promise((resolve, reject) => {\n    //     resolve()\n    // })\n\n    // æ–¹å¼äºŒï¼šæœ€ç»ˆç»“æœï¼šB A C D\n    // await async2()\n\n    // æ–¹å¼ä¸‰ï¼šæœ€ç»ˆç»“æœï¼šB C D A\n    await async3()\n\n    console.log('A')\n}\n\nasync1()\n\nnew Promise((resolve) => {\n    console.log('B')\n    resolve()\n}).then(() => {\n    console.log('C')\n}).then(() => {\n    console.log('D')\n})\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br")])]),n("blockquote",[n("p",[s._v("å¤§è‡´æ€è·¯ ğŸ‘‡ï¼š")]),s._v(" "),n("ul",[n("li",[s._v("é¦–å…ˆï¼Œ"),n("strong",[n("code",[s._v("async")]),s._v("å‡½æ•°çš„æ•´ä½“è¿”å›å€¼æ°¸è¿œéƒ½æ˜¯"),n("code",[s._v("Promise")]),s._v("ï¼Œæ— è®ºå€¼æœ¬èº«æ˜¯ä»€ä¹ˆ")])]),s._v(" "),n("li",[s._v("æ–¹å¼ä¸€ï¼š"),n("code",[s._v("await")]),s._v("çš„æ˜¯"),n("code",[s._v("Promise")]),s._v("ï¼Œæ— éœ€ç­‰å¾…")]),s._v(" "),n("li",[s._v("æ–¹å¼äºŒï¼š"),n("code",[s._v("await")]),s._v("çš„æ˜¯"),n("code",[s._v("async")]),s._v("å‡½æ•°ï¼Œä½†æ˜¯è¯¥å‡½æ•°çš„è¿”å›å€¼æœ¬èº«æ˜¯"),n("strong",[s._v("é"),n("code",[s._v("thenable")])]),s._v("ï¼Œæ— éœ€ç­‰å¾…")]),s._v(" "),n("li",[s._v("æ–¹å¼ä¸‰ï¼š"),n("code",[s._v("await")]),s._v("çš„æ˜¯"),n("code",[s._v("async")]),s._v("å‡½æ•°ï¼Œä¸”è¿”å›å€¼æœ¬èº«æ˜¯"),n("code",[s._v("Promise")]),s._v("ï¼Œéœ€ç­‰å¾…ä¸¤ä¸ª"),n("code",[s._v("then")]),s._v("æ—¶é—´")])])]),s._v(" "),n("p",[s._v("ğŸŒ°2ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("function func () {\n    console.log(2);\n\n    // æ–¹å¼ä¸€ï¼š1 2 4  5 3 6 7\n    // Promise.resolve()\n    //     .then(() => console.log(5))\n    //     .then(() => console.log(6))\n    //     .then(() => console.log(7))\n\n    // æ–¹å¼äºŒï¼š1 2 4  5 6 7 3\n    return Promise.resolve()\n        .then(() => console.log(5))\n        .then(() => console.log(6))\n        .then(() => console.log(7))\n}\n\nasync function test () {\n    console.log(1);\n    await func();\n    console.log(3);\n}\n\ntest();\nconsole.log(4);\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])]),n("blockquote",[n("p",[s._v("æ­¥éª¤æ‹†åˆ† ğŸ‘‡ï¼š")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("æ–¹å¼ä¸€ï¼š")])]),s._v(" "),n("li",[n("ul",[n("li",[s._v("åŒæ­¥ä»£ç è¾“å‡º"),n("code",[s._v("1ã€2")]),s._v("ï¼Œæ¥ç€å°†"),n("code",[s._v("log(5)")]),s._v("å¤„çš„"),n("code",[s._v("then1")]),s._v("åŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œ"),n("code",[s._v("await")]),s._v("æ‹¿åˆ°ç¡®åˆ‡çš„"),n("code",[s._v("func")]),s._v("å‡½æ•°è¿”å›å€¼"),n("code",[s._v("undefined")]),s._v("ï¼Œå°†åç»­ä»£ç æ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼ˆ"),n("code",[s._v("then2")]),s._v("ï¼Œå¯ä»¥è¿™æ ·ç†è§£ï¼‰")]),s._v(" "),n("li",[s._v("æ‰§è¡ŒåŒæ­¥ä»£ç è¾“å‡º"),n("code",[s._v("4")]),s._v("ï¼Œåˆ°æ­¤ï¼Œæ‰€æœ‰åŒæ­¥ä»£ç å®Œæ¯•")]),s._v(" "),n("li",[s._v("æ‰§è¡Œç¬¬ä¸€ä¸ªæ”¾å…¥çš„å¾®ä»»åŠ¡"),n("code",[s._v("then1")]),s._v("è¾“å‡º"),n("code",[s._v("5")]),s._v("ï¼Œäº§ç”Ÿ"),n("code",[s._v("log(6)")]),s._v("çš„å¾®ä»»åŠ¡"),n("code",[s._v("then3")])]),s._v(" "),n("li",[s._v("æ‰§è¡Œç¬¬äºŒä¸ªæ”¾å…¥çš„å¾®ä»»åŠ¡"),n("code",[s._v("then2")]),s._v("è¾“å‡º"),n("code",[s._v("3")])]),s._v(" "),n("li",[s._v("ç„¶åæ‰§è¡Œå¾®ä»»åŠ¡"),n("code",[s._v("then3")]),s._v("ï¼Œè¾“å‡º"),n("code",[s._v("6")]),s._v("ï¼Œäº§ç”Ÿ"),n("code",[s._v("log(7)")]),s._v("çš„å¾®ä»»åŠ¡"),n("code",[s._v("then4")])]),s._v(" "),n("li",[s._v("æ‰§è¡Œ"),n("code",[s._v("then4")]),s._v("ï¼Œè¾“å‡º"),n("code",[s._v("7")])])])]),s._v(" "),n("li",[n("p",[s._v("æ–¹å¼äºŒï¼š")])]),s._v(" "),n("li",[n("ul",[n("li",[s._v("åŒæ­¥ä»£ç è¾“å‡º"),n("code",[s._v("1ã€2")]),s._v("ï¼Œ"),n("code",[s._v("await")]),s._v("æ‹¿åˆ°"),n("code",[s._v("func")]),s._v("å‡½æ•°è¿”å›å€¼ï¼Œä½†æ˜¯å¹¶æœªè·å¾—"),n("strong",[s._v("å…·ä½“çš„ç»“æœ")]),s._v("ï¼ˆç”±"),n("code",[s._v("Promise")]),s._v("æœ¬èº«æœºåˆ¶å†³å®šï¼‰ï¼Œæš‚åœæ‰§è¡Œå½“å‰"),n("code",[s._v("async")]),s._v("å‡½æ•°å†…çš„ä»£ç ï¼ˆè·³å‡ºã€è®©è¡Œï¼‰")]),s._v(" "),n("li",[s._v("è¾“å‡º"),n("code",[s._v("4")]),s._v("ï¼Œåˆ°æ­¤ï¼Œæ‰€æœ‰åŒæ­¥ä»£ç å®Œæ¯•")]),s._v(" "),n("li",[n("code",[s._v("await")]),s._v("ä¸€ç›´ç­‰åˆ°"),n("code",[s._v("Promise.resolve().then...")]),s._v("æ‰§è¡Œå®Œæˆï¼Œå†æ”¾è¡Œè¾“å‡º"),n("code",[s._v("3")])])])])])]),s._v(" "),n("p",[s._v("æ–¹å¼äºŒæ²¡å¤ªæ˜ç™½ â“")]),s._v(" "),n("p",[s._v("ç»§ç»­ ğŸ‘‡")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("function func () {\n    console.log(2);\n\n    return Promise.resolve()\n        .then(() => console.log(5))\n        .then(() => console.log(6))\n        .then(() => console.log(7))\n}\n\nasync function test () {\n    console.log(1);\n    await func()\n    console.log(3);\n}\n\ntest();\nconsole.log(4);\n\nnew Promise((resolve) => {\n    console.log('B')\n    resolve()\n}).then(() => {\n    console.log('C')\n}).then(() => {\n    console.log('D')\n})\n\n// æœ€ç»ˆç»“æœğŸ‘‰: 1 2 4    B 5 C 6 D 7 3\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("p",[s._v("è¿˜æ˜¯æ²¡æ‡‚ï¼Ÿ")]),s._v(" "),n("p",[s._v("ç»§ç»­ ğŸ‘‡")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("async function test () {\n    console.log(1);\n    await Promise.resolve()\n        .then(() => console.log(5))\n        .then(() => console.log(6))\n        .then(() => console.log(7))\n    console.log(3);\n}\n\ntest();\nconsole.log(4);\n\nnew Promise((resolve) => {\n    console.log('B')\n    resolve()\n}).then(() => {\n    console.log('C')\n}).then(() => {\n    console.log('D')\n})\n\n// æœ€ç»ˆç»“æœğŸ‘‰: 1 4    B 5 C 6 D 7 3\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br")])]),n("blockquote",[n("p",[s._v("Note:")]),s._v(" "),n("p",[s._v("ç»¼ä¸Šï¼Œ"),n("code",[s._v("await")]),s._v("ä¸€å®šè¦ç­‰åˆ°å³ä¾§çš„è¡¨è¾¾å¼æœ‰"),n("strong",[s._v("ç¡®åˆ‡çš„å€¼")]),s._v("æ‰ä¼šæ”¾è¡Œï¼Œå¦åˆ™å°†ä¸€ç›´ç­‰å¾…ï¼ˆé˜»å¡å½“å‰"),n("code",[s._v("async")]),s._v("å‡½æ•°å†…çš„åç»­ä»£ç ï¼‰ï¼Œä¸æœçœ‹çœ‹è¿™ä¸ª ğŸ‘‡")]),s._v(" "),n("ul",[n("li",[n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("function func () {\n  return new Promise((resolve) => {\n      console.log('B')\n      // resolve() æ•…æ„ä¸€ç›´ä¿æŒpending\n  })\n}\n\nasync function test () {\n  console.log(1);\n  await func()\n  console.log(3);\n}\n\ntest();\nconsole.log(4);\n// æœ€ç»ˆç»“æœğŸ‘‰: 1 B 4 (æ°¸è¿œä¸ä¼šæ‰“å°3)\n\n\n// ---------------------æˆ–è€…å†™ä¸ºğŸ‘‡-------------------\nasync function test () {\n  console.log(1);\n  await new Promise((resolve) => {\n      console.log('B')\n      // resolve() æ•…æ„ä¸€ç›´ä¿æŒpending\n  })\n  console.log(3);\n}\n\ntest();\nconsole.log(4);\n// æœ€ç»ˆç»“æœğŸ‘‰: 1 B 4 (æ°¸è¿œä¸ä¼šæ‰“å°3)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br")])])])])]),s._v(" "),n("p",[s._v("ğŸŒ°3ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("async function func () {\n    console.log(2);\n    return {\n        then (cb) {\n            cb()\n        }\n    }\n}\n\nasync function test () {\n    console.log(1);\n    await func();\n    console.log(3);\n}\n\ntest();\nconsole.log(4);\n\nnew Promise((resolve) => {\n    console.log('B')\n    resolve()\n}).then(() => {\n    console.log('C')\n}).then(() => {\n    console.log('D')\n})\n\n// æœ€ç»ˆç»“æœğŸ‘‰: 1 2 4 B C 3 D\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("blockquote",[n("p",[s._v("æ­¥éª¤æ‹†åˆ† ğŸ‘‡ï¼š")]),s._v(" "),n("ul",[n("li",[s._v("åŒæ­¥ä»£ç è¾“å‡º"),n("code",[s._v("1ã€2")])]),s._v(" "),n("li",[n("code",[s._v("await")]),s._v("æ‹¿åˆ°"),n("code",[s._v("func")]),s._v("å‡½æ•°çš„å…·ä½“è¿”å›å€¼"),n("code",[s._v("thenable")]),s._v("ï¼Œå°†å½“å‰"),n("code",[s._v("async")]),s._v("å‡½æ•°å†…çš„åç»­ä»£ç æ”¾å…¥å¾®ä»»åŠ¡"),n("code",[s._v("then1")]),s._v("(ä½†æ˜¯éœ€è¦ç­‰å¾…ä¸€ä¸ª"),n("code",[s._v("then")]),s._v("æ—¶é—´)")]),s._v(" "),n("li",[s._v("åŒæ­¥ä»£ç è¾“å‡º"),n("code",[s._v("4ã€B")]),s._v("ï¼Œäº§ç”Ÿ"),n("code",[s._v("log(C)")]),s._v("çš„å¾®ä»»åŠ¡"),n("code",[s._v("then2")])]),s._v(" "),n("li",[s._v("ç”±äº"),n("code",[s._v("then1")]),s._v("æ»åä¸€ä¸ª"),n("code",[s._v("then")]),s._v("æ—¶é—´ï¼Œç›´æ¥æ‰§è¡Œ"),n("code",[s._v("then2")]),s._v("è¾“å‡º"),n("code",[s._v("C")]),s._v("ï¼Œäº§ç”Ÿ"),n("code",[s._v("log(D)")]),s._v("çš„å¾®ä»»åŠ¡"),n("code",[s._v("then3")])]),s._v(" "),n("li",[s._v("æ‰§è¡ŒåŸæœ¬æ»åä¸€ä¸ª"),n("code",[s._v("then")]),s._v("æ—¶é—´çš„å¾®ä»»åŠ¡"),n("code",[s._v("then1")]),s._v("ï¼Œè¾“å‡º"),n("code",[s._v("3")])]),s._v(" "),n("li",[s._v("æ‰§è¡Œæœ€åä¸€ä¸ªå¾®ä»»åŠ¡"),n("code",[s._v("then3")]),s._v("è¾“å‡º"),n("code",[s._v("D")])])])]),s._v(" "),n("h2",{attrs:{id:"_4ã€æ€»ç»“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4ã€æ€»ç»“"}},[s._v("#")]),s._v(" 4ã€æ€»ç»“")]),s._v(" "),n("hr"),s._v(" "),n("blockquote",[n("p",[n("code",[s._v("async")]),s._v("å‡½æ•°è¿”å›å€¼")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("ğŸ“‘ ç»“è®ºï¼š"),n("code",[s._v("async")]),s._v("å‡½æ•°åœ¨æŠ›å‡ºè¿”å›å€¼æ—¶ï¼Œä¼šæ ¹æ®è¿”å›å€¼"),n("strong",[s._v("ç±»å‹")]),s._v("å¼€å¯"),n("strong",[s._v("ä¸åŒæ•°ç›®çš„å¾®ä»»åŠ¡")])])]),s._v(" "),n("li",[n("ul",[n("li",[s._v("return ç»“æœå€¼ï¼šé"),n("code",[s._v("thenable")]),s._v("ã€é"),n("code",[s._v("promise")]),s._v("ï¼ˆä¸ç­‰å¾…ï¼‰")]),s._v(" "),n("li",[s._v("return ç»“æœå€¼ï¼š"),n("code",[s._v("thenable")]),s._v("ï¼ˆç­‰å¾… 1 ä¸ª"),n("code",[s._v("then")]),s._v("çš„æ—¶é—´ï¼‰")]),s._v(" "),n("li",[s._v("return ç»“æœå€¼ï¼š"),n("code",[s._v("promise")]),s._v("ï¼ˆç­‰å¾… 2 ä¸ª"),n("code",[s._v("then")]),s._v("çš„æ—¶é—´ï¼‰")])])])]),s._v(" "),n("p",[n("code",[s._v("await")]),s._v("å³å€¼ç±»å‹åŒºåˆ«")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("æ¥é "),n("code",[s._v("thenable")]),s._v(" ç±»å‹ï¼Œä¼šç«‹å³å‘å¾®ä»»åŠ¡é˜Ÿåˆ—æ·»åŠ ä¸€ä¸ªå¾®ä»»åŠ¡"),n("code",[s._v("then")]),s._v("ï¼Œ"),n("strong",[s._v("ä½†ä¸éœ€ç­‰å¾…")])])]),s._v(" "),n("li",[n("p",[s._v("æ¥ "),n("code",[s._v("thenable")]),s._v(" ç±»å‹ï¼Œéœ€è¦"),n("strong",[s._v("ç­‰å¾…ä¸€ä¸ª "),n("code",[s._v("then")]),s._v(" çš„æ—¶é—´ä¹‹å")]),s._v("æ‰§è¡Œ")])]),s._v(" "),n("li",[n("p",[s._v("æ¥"),n("code",[s._v("Promise")]),s._v("ç±»å‹(æœ‰ç¡®å®šçš„è¿”å›å€¼)ï¼Œä¼šç«‹å³å‘å¾®ä»»åŠ¡é˜Ÿåˆ—æ·»åŠ ä¸€ä¸ªå¾®ä»»åŠ¡"),n("code",[s._v("then")]),s._v("ï¼Œ"),n("strong",[s._v("ä½†ä¸éœ€ç­‰å¾…")])])]),s._v(" "),n("li",[n("ul",[n("li",[s._v("TC 39 å¯¹"),n("code",[s._v("await")]),s._v(" åé¢æ˜¯ "),n("code",[s._v("promise")]),s._v(" çš„æƒ…å†µå¦‚ä½•å¤„ç†è¿›è¡Œäº†ä¸€æ¬¡ä¿®æ”¹ï¼Œ"),n("strong",[s._v("ç§»é™¤")]),s._v("äº†é¢å¤–çš„ä¸¤ä¸ªå¾®ä»»åŠ¡ï¼Œåœ¨"),n("strong",[s._v("æ—©æœŸç‰ˆæœ¬")]),s._v("ï¼Œä¾ç„¶ä¼šç­‰å¾…ä¸¤ä¸ª "),n("code",[s._v("then")]),s._v(" çš„æ—¶é—´")])])])])]),s._v(" "),n("h3",{attrs:{id:"å‚è€ƒèµ„æ–™"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™"}},[s._v("#")]),s._v(" å‚è€ƒèµ„æ–™")]),s._v(" "),n("hr"),s._v(" "),n("p",[s._v("[1]https://juejin.cn/post/6844903715342647310#heading-3: "),n("em",[s._v("https://juejin.cn/post/6844903715342647310#heading-3")])])])}),[],!1,null,null,null);n.default=t.exports}}]);